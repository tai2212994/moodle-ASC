define(["jquery"],function(a){"use strict";function b(b,e){b.click(function(f){if(f.preventDefault(),0==b.attr("data-collapse"))c(b,e);else if(1==b.attr("data-collapse")){d(b,e);var g=b.attr("data-localboostnavigation-accordion");"undefined"!=typeof g&&a('.list-group-item[data-key^="'+g+'"][data-isexpandable="1"]').each(function(){a(this).attr("data-key")!==b.attr("data-key")&&c(a(this),a(this).attr("data-key"))})}})}function c(b,c){a(".list-group-item[data-parent-key="+c+"]").attr("data-hidden","1"),b.attr("data-collapse","1"),b.attr("aria-expanded","0"),M.util.set_user_preference("local_boostnavigation-collapse_"+c+"node",1)}function d(b,c){a(".list-group-item[data-parent-key="+c+"]").attr("data-hidden","0"),b.attr("data-collapse","0"),b.attr("aria-expanded","1"),M.util.set_user_preference("local_boostnavigation-collapse_"+c+"node",0)}function e(b,c){var d="";a(".list-group-item[data-parent-key="+c+"]").each(function(b,c){var e=a(c).attr("data-key");"localboost"!==e.substring(0,10)&&(e="localboostnavigation"+e),a(c).attr("id",e),d=d+e+" "}),""!==d&&b.attr("aria-controls",d.trim()),0==b.attr("data-collapse")?b.attr("aria-expanded","1"):1==b.attr("data-collapse")&&b.attr("aria-expanded","0")}function f(a){a.attr("tabindex","0"),a.keydown(function(a){13===a.which&&a.currentTarget.click()}),a.mousedown(function(){a.css("outline","none")}),a.mouseup(function(){a.css("outline",""),a.blur()})}function g(c){var d=a('.list-group-item[data-key="'+c+'"]');b(d,c),e(d,c),"mycourses"==c&&f(d)}function h(b){a('.list-group-item[data-key^="'+b+'"][data-isexpandable="1"]').attr("data-localboostnavigation-accordion",b)}return{init:function(a,b){for(var c=0,d=a.length;c<d;c++)g(a[c]);for(var e=0,f=b.length;e<f;e++)h(b[e])}}});